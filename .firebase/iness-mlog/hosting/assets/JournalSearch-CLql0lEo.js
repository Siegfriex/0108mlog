import{j as e}from"./framer-motion-BL4N7xFA.js";import{d as x,r as l}from"./react-vendor-CHpw1G1i.js";import{G as a,w as m,r as u}from"./index-AFX2_y7y.js";import{J as p}from"./lucide-react-J6DJLIhr.js";import"./firebase-BBl07Gss.js";const S=()=>{const c=x(),[t,o]=l.useState(""),[i,r]=l.useState([]),[d,n]=l.useState(!1),h=async()=>{if(!t.trim()){r([]);return}n(!0);try{const s=await m(t,{limit:50});r(s)}catch(s){u("JournalSearch.handleSearch",s),r([])}finally{n(!1)}};return e.jsxs("div",{className:"h-full flex flex-col p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("button",{onClick:()=>c("/journal"),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:"←"}),e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"검색"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(p,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",value:t,onChange:s=>o(s.target.value),onKeyPress:s=>s.key==="Enter"&&h(),placeholder:"대화 내용 검색...",className:"w-full pl-11 pr-4 py-3 bg-white/60 border border-white/60 rounded-full focus:outline-none focus:ring-2 focus:ring-brand-primary/50 text-slate-700 placeholder-slate-400"})]}),d?e.jsx(a,{children:e.jsx("div",{className:"text-center py-12 text-slate-400",children:e.jsx("p",{children:"검색 중..."})})}):i.length>0?e.jsx("div",{className:"space-y-2",children:i.map(s=>e.jsxs(a,{className:"p-4 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>c(`/journal/detail/${s.id}`),children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-1",children:s.title}),e.jsxs("p",{className:"text-sm text-slate-600",children:[s.messageCount,"개 메시지 · ",s.createdAt instanceof Date?s.createdAt.toLocaleDateString("ko-KR"):"날짜 없음"]})]},s.id))}):t?e.jsx(a,{children:e.jsx("div",{className:"text-center py-12 text-slate-400",children:e.jsx("p",{children:"검색 결과가 없습니다."})})}):e.jsx(a,{children:e.jsx("div",{className:"text-center py-12 text-slate-400",children:e.jsx("p",{children:"검색어를 입력하세요."})})})]})]})};export{S as JournalSearch};
