import{j as e,m as p,A as g}from"./framer-motion-BL4N7xFA.js";import{r as h,d as j}from"./react-vendor-CHpw1G1i.js";import{E as t,B as w,G as b,R as F,o as z}from"./index-AFX2_y7y.js";import{E as M,G as y,M as Y,g as T,I as f,J as R,K as G,A as O,N as I,X as J,p as L,W as $,O as B}from"./lucide-react-J6DJLIhr.js";import{R as P,A as _,Y as X,a as W}from"./recharts-D37Qx2ho.js";import"./firebase-BBl07Gss.js";const H=({type:a,size:l="sm"})=>{const c={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-16 h-16 text-2xl"},s={[t.JOY]:"bg-[#FFD954] text-amber-900",[t.PEACE]:"bg-[#A3E635] text-lime-900",[t.ANXIETY]:"bg-[#FB923C] text-orange-900",[t.SADNESS]:"bg-[#818CF8] text-indigo-900",[t.ANGER]:"bg-[#F87171] text-red-900"},x={[t.JOY]:"◡‿◡",[t.PEACE]:"•ᴗ•",[t.ANXIETY]:"⊙﹏⊙",[t.SADNESS]:"ㅠ_ㅠ",[t.ANGER]:"`Д´"};return e.jsxs("div",{className:`${c[l]} ${s[a]} rounded-[40%] flex items-center justify-center font-bold shadow-sm transition-transform hover:scale-110 relative`,children:[e.jsx("div",{className:"absolute top-[15%] left-[15%] w-[25%] h-[25%] bg-white/40 rounded-full blur-[1px]"}),e.jsx("span",{className:"relative z-10 font-mono tracking-tighter",children:x[a]})]})},N=({data:a,selectedDate:l,onSelectDate:c})=>{const[s,x]=h.useState(new Date),i=s.getFullYear(),o=s.getMonth(),m=new Date(i,o+1,0).getDate(),r=new Date(i,o,1).getDay(),v=()=>x(new Date(i,o-1,1)),E=()=>x(new Date(i,o+1,1)),A=Array.from({length:m},(n,d)=>d+1),S=Array.from({length:r},(n,d)=>d),C=n=>a.find(d=>{const u=new Date(d.date);return u.getDate()===n&&u.getMonth()===o&&u.getFullYear()===i}),D=n=>l?l.getDate()===n&&l.getMonth()===o&&l.getFullYear()===i:!1;return e.jsxs("div",{className:"w-full flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center justify-between w-full mb-6 px-2",children:[e.jsx("button",{onClick:v,className:"p-2 rounded-xl hover:bg-white/60 backdrop-blur-sm text-slate-500 hover:text-brand-primary transition-all",children:e.jsx(M,{size:20})}),e.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[i,".",String(o+1).padStart(2,"0")]}),e.jsx("button",{onClick:E,className:"p-2 rounded-xl hover:bg-white/60 backdrop-blur-sm text-slate-500 hover:text-brand-primary transition-all",children:e.jsx(y,{size:20})})]}),e.jsx("div",{className:"w-full grid grid-cols-7 gap-1 mb-2 px-2",children:["일","월","화","수","목","금","토"].map((n,d)=>e.jsx("div",{className:`text-center text-xs font-medium ${d===0?"text-red-400":d===6?"text-blue-400":"text-slate-400"}`,children:n},n))}),e.jsxs("div",{className:"w-full grid grid-cols-7 gap-y-4 gap-x-1 px-2",children:[S.map(n=>e.jsx("div",{},`pad-${n}`)),A.map(n=>{const d=C(n),u=D(n);return e.jsxs("div",{className:"flex flex-col items-center gap-1 cursor-pointer",onClick:()=>{const k=new Date(i,o,n);c(k)},children:[e.jsx("div",{className:"h-6 flex items-center justify-center",children:e.jsx("span",{className:`text-xs ${u?"font-bold text-slate-900":"text-slate-500"}`,children:n})}),e.jsx(p.div,{className:`
                                w-10 h-10 flex items-center justify-center rounded-full transition-all duration-300
                                ${u?"ring-2 ring-brand-primary ring-offset-2 ring-offset-white":""}
                            `,whileHover:{scale:1.1},whileTap:{scale:.95},children:d?e.jsx(H,{type:d.emotion,size:"md"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-50/50 border border-dashed border-slate-200/50"})})]},n)})]})]})},K=a=>{switch(a){case t.JOY:return["#설레는","#뿌듯한","#기대되는"];case t.PEACE:return["#잔잔한","#여유로운","#평범한"];case t.ANXIETY:return["#걱정되는","#긴장된","#두려운"];case t.SADNESS:return["#우울한","#지친","#외로운"];case t.ANGER:return["#답답한","#짜증나는","#화난"];default:return["#일상","#기록"]}},V=({type:a})=>{const l={[t.JOY]:"bg-[#FFD954] text-amber-900",[t.PEACE]:"bg-[#A3E635] text-lime-900",[t.ANXIETY]:"bg-[#FB923C] text-orange-900",[t.SADNESS]:"bg-[#818CF8] text-indigo-900",[t.ANGER]:"bg-[#F87171] text-red-900"},c={[t.JOY]:"◡‿◡",[t.PEACE]:"•ᴗ•",[t.ANXIETY]:"⊙﹏⊙",[t.SADNESS]:"ㅠ_ㅠ",[t.ANGER]:"`Д´"};return e.jsx("div",{className:`w-14 h-14 ${l[a]} rounded-[35%] flex items-center justify-center text-xl font-mono shadow-md`,children:c[a]})},Q=({data:a})=>{const[l,c]=h.useState(new Date),[s,x]=h.useState(null);return h.useEffect(()=>{const i=a.find(o=>{const m=new Date(o.date);return m.getDate()===l.getDate()&&m.getMonth()===l.getMonth()&&m.getFullYear()===l.getFullYear()});x(i||null)},[l,a]),e.jsxs("div",{className:"flex flex-col h-full w-full relative bg-white md:bg-transparent rounded-t-[32px] md:rounded-none overflow-hidden",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-2 pt-6 pb-48",children:[e.jsx(N,{data:a,selectedDate:l,onSelectDate:c}),!s&&e.jsxs("div",{className:"mt-12 text-center",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"아직 기록되지 않은 날이에요."}),e.jsx(w,{variant:"secondary",className:"mx-auto rounded-full !px-6 !py-3 text-xs",children:"오늘의 감정 기록하기"})]})]}),e.jsx(g,{mode:"wait",children:s&&e.jsx(p.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-white via-white to-transparent pt-12 z-10",children:e.jsxs("div",{className:"bg-white rounded-[32px] shadow-[0_-8px_30px_rgba(0,0,0,0.08)] border border-slate-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-400 text-xs font-bold uppercase tracking-wider",children:[e.jsxs("span",{children:[s.date.getDate(),"일"]}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),e.jsx("span",{children:s.date.toLocaleDateString("ko-KR",{weekday:"long"})})]}),e.jsxs("div",{className:"flex items-start gap-5 mb-6",children:[e.jsx("div",{className:"shrink-0 pt-1",children:e.jsx(V,{type:s.emotion})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2 truncate",children:s.summary||"감정 기록"}),e.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:(s.nuanceTags||K(s.emotion)).map(i=>e.jsx("span",{className:"text-xs text-slate-500 bg-slate-50 px-2 py-1 rounded-md",children:i},i))}),e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 leading-relaxed",children:s.detail.split(`
`)[0]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex-1 py-3.5 rounded-2xl bg-indigo-50 text-indigo-600 font-bold text-sm flex items-center justify-center gap-2 hover:bg-indigo-100 transition-colors",children:[e.jsx(Y,{size:16}),"AI 답장 보기"]}),e.jsx("button",{className:"flex-1 py-3.5 rounded-2xl bg-slate-50 text-slate-600 font-bold text-sm flex items-center justify-center gap-2 hover:bg-slate-100 transition-colors",children:"리스트 보기"})]})]})},s.id)})]})},q=[{id:"cbt-1",title:"생각 도전하기",description:"부정적인 생각 패턴을 식별하고 재구성하세요.",icon:e.jsx(L,{size:20}),duration:"5 min",category:"CBT"},{id:"breath-1",title:"박스 호흡법",description:"신경계를 즉시 조절하세요.",icon:e.jsx($,{size:20}),duration:"2 min",category:"Breathwork"},{id:"journal-1",title:"감사 일지",description:"하루의 긍정적인 측면에 집중하세요.",icon:e.jsx(B,{size:20}),duration:"3 min",category:"Mindfulness"}],U=({timelineData:a})=>{const l=j(),[c,s]=h.useState(!1),[x,i]=h.useState(""),[o,m]=h.useState(null);return e.jsxs("div",{className:"h-full w-full relative overflow-hidden flex",children:[e.jsxs(p.div,{className:`flex-1 h-full overflow-y-auto scrollbar-hide p-6 transition-all duration-500 ${c?"opacity-50 scale-95 pointer-events-none":"opacity-100 scale-100"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(T,{className:"text-brand-primary",size:24}),"Emotional Growth"]}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"A journey toward resilience."})]}),e.jsxs("button",{onClick:()=>s(!0),className:"group flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-full shadow-sm hover:shadow-md transition-all text-slate-600 hover:text-brand-primary",children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Memory Lane"}),e.jsx(f,{size:16,className:"group-hover:rotate-12 transition-transform"})]})]}),e.jsxs("div",{className:"mb-6 space-y-4 max-w-xl mx-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsx(R,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",value:x,onChange:r=>i(r.target.value),onFocus:()=>{l("/journal/search")},placeholder:"대화 내용 검색...",className:"w-full pl-11 pr-4 py-3 bg-white/60 border border-white/60 rounded-full focus:outline-none focus:ring-2 focus:ring-brand-primary/50 text-slate-700 placeholder-slate-400 cursor-pointer"})]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide pb-2",children:[e.jsx("button",{onClick:()=>m(null),className:`
                  px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap
                  transition-all duration-300
                  ${o===null?"bg-brand-primary text-white shadow-sm":"bg-white/60 text-slate-600 hover:bg-white/80"}
                `,children:"전체"}),Object.values(t).map(r=>e.jsxs("button",{onClick:()=>m(r),className:`
                    px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap
                    transition-all duration-300
                    ${o===r?"bg-brand-primary text-white shadow-sm":"bg-white/60 text-slate-600 hover:bg-white/80"}
                  `,children:[r===t.JOY&&"기쁨",r===t.PEACE&&"평온",r===t.ANXIETY&&"불안",r===t.SADNESS&&"슬픔",r===t.ANGER&&"분노"]},r))]})]}),e.jsxs("div",{className:"space-y-8 max-w-xl mx-auto",children:[e.jsxs(b,{className:"!p-8 relative overflow-hidden group cursor-pointer hover:shadow-2xl transition-all duration-500 border-brand-secondary/30",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-brand-secondary to-brand-primary opacity-10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:opacity-20 transition-opacity"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-12 h-12 bg-brand-light rounded-2xl flex items-center justify-center text-brand-primary mb-4 shadow-sm group-hover:scale-110 transition-transform",children:e.jsx(G,{size:24,strokeWidth:2})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"How are you feeling right now?"}),e.jsx("p",{className:"text-slate-500 mb-6 leading-relaxed",children:"Just like a physical workout, a quick emotional check-in builds mental strength. Let's process your thoughts together."}),e.jsxs(w,{variant:"primary",className:"w-full !py-4 shadow-brand-primary/20",children:["Start Check-in ",e.jsx(O,{size:18})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[e.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[e.jsx(I,{size:18,className:"text-brand-primary"})," Resilience Score"]}),e.jsx("span",{className:"text-xs font-bold text-brand-primary bg-brand-light px-2 py-1 rounded-md",children:"+12% this week"})]}),e.jsxs("div",{className:"h-40 w-full bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden relative",children:[e.jsx(P,{width:"100%",height:160,children:e.jsxs(_,{data:F,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorScore",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#2A8E9E",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#2A8E9E",stopOpacity:0})]})}),e.jsx(X,{hide:!0,domain:["dataMin - 10","dataMax + 10"]}),e.jsx(W,{type:"monotone",dataKey:"score",stroke:"#2A8E9E",strokeWidth:3,fill:"url(#colorScore)",animationDuration:2e3})]})}),e.jsxs("div",{className:"absolute bottom-4 left-6",children:[e.jsx("span",{className:"text-3xl font-bold text-slate-800",children:"78"}),e.jsx("span",{className:"text-xs text-slate-400 font-medium ml-1",children:"/ 100"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-700 mb-4 px-2",children:"Recommended Tools"}),e.jsx("div",{className:"grid gap-3",children:q.map(r=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-2xl border border-slate-100 hover:border-brand-secondary hover:shadow-md transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 group-hover:bg-brand-primary group-hover:text-white transition-colors",children:r.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("h4",{className:"font-bold text-slate-700 group-hover:text-brand-primary transition-colors",children:r.title}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full",children:r.duration})]}),e.jsx("p",{className:"text-xs text-slate-500 truncate",children:r.description})]}),e.jsx(y,{size:18,className:"text-slate-300 group-hover:text-brand-primary"})]},r.id))})]}),e.jsxs(p.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6,ease:[.16,1,.3,1]},className:"mt-12",children:[e.jsxs("div",{className:"mb-6 px-2",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Calendar"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Your emotional journey over time"})]}),e.jsx(b,{className:"p-6",intensity:"medium",enableSpotlight:!0,children:e.jsx(N,{data:a,selectedDate:null,onSelectDate:()=>{}})})]})]})]}),e.jsx(g,{children:c&&e.jsxs(e.Fragment,{children:[e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1),className:"absolute inset-0 bg-slate-900/20 backdrop-blur-sm z-20"}),e.jsxs(p.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"absolute top-0 right-0 h-full w-full md:w-[480px] bg-[#F8FAFC] z-30 shadow-2xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-white",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(f,{size:20,className:"text-brand-primary"})," Memory Lane"]}),e.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(J,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(Q,{data:a})})]})]})})]})},le=()=>{const{timelineData:a}=z();return j(),e.jsx(U,{timelineData:a})};export{le as JournalTimeline};
