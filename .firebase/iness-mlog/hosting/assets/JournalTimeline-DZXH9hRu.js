import{c as p,r as m,j as e,E as t,B as g,A as b,m as u,a as k,S as D,p as z,v as M,X as F,w as Y,u as T,t as R,N as L}from"./index-Bhn4ADLA.js";import{C as j}from"./chevron-right-ZOCGx3Zp.js";import{G as _}from"./GlassCard-Dvt-oZjS.js";import{S as G}from"./search-Z45RCbbm.js";import{H as O,W as I}from"./wind-TfAmfOZL.js";import{A as $,Y as B}from"./YAxis-Nja6hInu.js";import{R as J}from"./CartesianChart-DOIwv2ac.js";import{A as P,a as X}from"./AreaChart-7bYFUpd6.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],H=p("chevron-left",W);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],f=p("map",V);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],K=p("pen-tool",q),Q=({type:r,size:a="sm"})=>{const d={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-16 h-16 text-2xl"},l={[t.JOY]:"bg-[#FFD954] text-amber-900",[t.PEACE]:"bg-[#A3E635] text-lime-900",[t.ANXIETY]:"bg-[#FB923C] text-orange-900",[t.SADNESS]:"bg-[#818CF8] text-indigo-900",[t.ANGER]:"bg-[#F87171] text-red-900"},x={[t.JOY]:"◡‿◡",[t.PEACE]:"•ᴗ•",[t.ANXIETY]:"⊙﹏⊙",[t.SADNESS]:"ㅠ_ㅠ",[t.ANGER]:"`Д´"};return e.jsxs("div",{className:`${d[a]} ${l[r]} rounded-[40%] flex items-center justify-center font-bold shadow-sm transition-transform hover:scale-110 relative`,children:[e.jsx("div",{className:"absolute top-[15%] left-[15%] w-[25%] h-[25%] bg-white/40 rounded-full blur-[1px]"}),e.jsx("span",{className:"relative z-10 font-mono tracking-tighter",children:x[r]})]})},U=({data:r,selectedDate:a,onSelectDate:d})=>{const[l,x]=m.useState(new Date),n=l.getFullYear(),o=l.getMonth(),s=new Date(n,o+1,0).getDate(),y=new Date(n,o,1).getDay(),N=()=>x(new Date(n,o-1,1)),v=()=>x(new Date(n,o+1,1)),w=Array.from({length:s},(i,c)=>c+1),E=Array.from({length:y},(i,c)=>c),A=i=>r.find(c=>{const h=new Date(c.date);return h.getDate()===i&&h.getMonth()===o&&h.getFullYear()===n}),S=i=>a?a.getDate()===i&&a.getMonth()===o&&a.getFullYear()===n:!1;return e.jsxs("div",{className:"w-full flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:N,className:"p-2 rounded-full hover:bg-slate-100 text-slate-400",children:e.jsx(H,{size:20})}),e.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[n,".",String(o+1).padStart(2,"0")]}),e.jsx("button",{onClick:v,className:"p-2 rounded-full hover:bg-slate-100 text-slate-400",children:e.jsx(j,{size:20})})]}),e.jsx("div",{className:"w-full grid grid-cols-7 gap-1 mb-2 px-2",children:["일","월","화","수","목","금","토"].map((i,c)=>e.jsx("div",{className:`text-center text-xs font-medium ${c===0?"text-red-400":c===6?"text-blue-400":"text-slate-400"}`,children:i},i))}),e.jsxs("div",{className:"w-full grid grid-cols-7 gap-y-4 gap-x-1 px-2",children:[E.map(i=>e.jsx("div",{},`pad-${i}`)),w.map(i=>{const c=A(i),h=S(i);return e.jsxs("div",{className:"flex flex-col items-center gap-1 cursor-pointer",onClick:()=>{const C=new Date(n,o,i);d(C)},children:[e.jsx("div",{className:"h-6 flex items-center justify-center",children:e.jsx("span",{className:`text-xs ${h?"font-bold text-slate-900":"text-slate-500"}`,children:i})}),e.jsx("div",{className:`
                            w-10 h-10 flex items-center justify-center rounded-full transition-all duration-300
                            ${h?"bg-slate-100 ring-2 ring-indigo-200 ring-offset-2":""}
                        `,children:c?e.jsx(Q,{type:c.emotion,size:"md"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-50 border border-dashed border-slate-200"})})]},i)})]})]})},Z=r=>{switch(r){case t.JOY:return["#설레는","#뿌듯한","#기대되는"];case t.PEACE:return["#잔잔한","#여유로운","#평범한"];case t.ANXIETY:return["#걱정되는","#긴장된","#두려운"];case t.SADNESS:return["#우울한","#지친","#외로운"];case t.ANGER:return["#답답한","#짜증나는","#화난"];default:return["#일상","#기록"]}},ee=({type:r})=>{const a={[t.JOY]:"bg-[#FFD954] text-amber-900",[t.PEACE]:"bg-[#A3E635] text-lime-900",[t.ANXIETY]:"bg-[#FB923C] text-orange-900",[t.SADNESS]:"bg-[#818CF8] text-indigo-900",[t.ANGER]:"bg-[#F87171] text-red-900"},d={[t.JOY]:"◡‿◡",[t.PEACE]:"•ᴗ•",[t.ANXIETY]:"⊙﹏⊙",[t.SADNESS]:"ㅠ_ㅠ",[t.ANGER]:"`Д´"};return e.jsx("div",{className:`w-14 h-14 ${a[r]} rounded-[35%] flex items-center justify-center text-xl font-mono shadow-md`,children:d[r]})},te=({data:r})=>{const[a,d]=m.useState(new Date),[l,x]=m.useState(null);return m.useEffect(()=>{const n=r.find(o=>{const s=new Date(o.date);return s.getDate()===a.getDate()&&s.getMonth()===a.getMonth()&&s.getFullYear()===a.getFullYear()});x(n||null)},[a,r]),e.jsxs("div",{className:"flex flex-col h-full w-full relative bg-white md:bg-transparent rounded-t-[32px] md:rounded-none overflow-hidden",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-2 pt-6 pb-48",children:[e.jsx(U,{data:r,selectedDate:a,onSelectDate:d}),!l&&e.jsxs("div",{className:"mt-12 text-center",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"아직 기록되지 않은 날이에요."}),e.jsx(g,{variant:"secondary",className:"mx-auto rounded-full !px-6 !py-3 text-xs",children:"오늘의 감정 기록하기"})]})]}),e.jsx(b,{mode:"wait",children:l&&e.jsx(u.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-white via-white to-transparent pt-12 z-10",children:e.jsxs("div",{className:"bg-white rounded-[32px] shadow-[0_-8px_30px_rgba(0,0,0,0.08)] border border-slate-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-400 text-xs font-bold uppercase tracking-wider",children:[e.jsxs("span",{children:[l.date.getDate(),"일"]}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),e.jsx("span",{children:l.date.toLocaleDateString("ko-KR",{weekday:"long"})})]}),e.jsxs("div",{className:"flex items-start gap-5 mb-6",children:[e.jsx("div",{className:"shrink-0 pt-1",children:e.jsx(ee,{type:l.emotion})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2 truncate",children:l.summary||"감정 기록"}),e.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:(l.nuanceTags||Z(l.emotion)).map(n=>e.jsx("span",{className:"text-xs text-slate-500 bg-slate-50 px-2 py-1 rounded-md",children:n},n))}),e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 leading-relaxed",children:l.detail.split(`
`)[0]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex-1 py-3.5 rounded-2xl bg-indigo-50 text-indigo-600 font-bold text-sm flex items-center justify-center gap-2 hover:bg-indigo-100 transition-colors",children:[e.jsx(k,{size:16}),"AI 답장 보기"]}),e.jsx("button",{className:"flex-1 py-3.5 rounded-2xl bg-slate-50 text-slate-600 font-bold text-sm flex items-center justify-center gap-2 hover:bg-slate-100 transition-colors",children:"리스트 보기"})]})]})},l.id)})]})},se=[{id:"cbt-1",title:"Thought Challenge",description:"Identify and reframe negative thought patterns.",icon:e.jsx(Y,{size:20}),duration:"5 min",category:"CBT"},{id:"breath-1",title:"Box Breathing",description:"Regulate your nervous system instantly.",icon:e.jsx(I,{size:20}),duration:"2 min",category:"Breathwork"},{id:"journal-1",title:"Gratitude Log",description:"Shift focus to positive aspects of your day.",icon:e.jsx(K,{size:20}),duration:"3 min",category:"Mindfulness"}],ae=({timelineData:r})=>{const[a,d]=m.useState(!1),[l,x]=m.useState(""),[n,o]=m.useState(null);return e.jsxs("div",{className:"h-full w-full relative overflow-hidden flex",children:[e.jsxs(u.div,{className:`flex-1 h-full overflow-y-auto scrollbar-hide p-6 transition-all duration-500 ${a?"opacity-50 scale-95 pointer-events-none":"opacity-100 scale-100"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-serif font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(D,{className:"text-brand-primary",size:24}),"Emotional Growth"]}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Your journey to resilience."})]}),e.jsxs("button",{onClick:()=>d(!0),className:"group flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-full shadow-sm hover:shadow-md transition-all text-slate-600 hover:text-brand-primary",children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Memory Lane"}),e.jsx(f,{size:16,className:"group-hover:rotate-12 transition-transform"})]})]}),e.jsxs("div",{className:"mb-6 space-y-4 max-w-xl mx-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsx(G,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",value:l,onChange:s=>x(s.target.value),onFocus:()=>{typeof window<"u"&&window.location.pathname==="/journal"&&(window.location.href="/journal/search")},placeholder:"대화 내용 검색...",className:"w-full pl-11 pr-4 py-3 bg-white/60 border border-white/60 rounded-full focus:outline-none focus:ring-2 focus:ring-brand-primary/50 text-slate-700 placeholder-slate-400 cursor-pointer"})]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide pb-2",children:[e.jsx("button",{onClick:()=>o(null),className:`
                  px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap
                  transition-all duration-300
                  ${n===null?"bg-brand-primary text-white shadow-sm":"bg-white/60 text-slate-600 hover:bg-white/80"}
                `,children:"전체"}),Object.values(t).map(s=>e.jsxs("button",{onClick:()=>o(s),className:`
                    px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap
                    transition-all duration-300
                    ${n===s?"bg-brand-primary text-white shadow-sm":"bg-white/60 text-slate-600 hover:bg-white/80"}
                  `,children:[s===t.JOY&&"기쁨",s===t.PEACE&&"평온",s===t.ANXIETY&&"불안",s===t.SADNESS&&"슬픔",s===t.ANGER&&"분노"]},s))]})]}),e.jsxs("div",{className:"space-y-8 max-w-xl mx-auto",children:[e.jsxs(_,{className:"!p-8 relative overflow-hidden group cursor-pointer hover:shadow-2xl transition-all duration-500 border-brand-secondary/30",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-brand-secondary to-brand-primary opacity-10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:opacity-20 transition-opacity"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-12 h-12 bg-brand-light rounded-2xl flex items-center justify-center text-brand-primary mb-4 shadow-sm group-hover:scale-110 transition-transform",children:e.jsx(O,{size:24,strokeWidth:2})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"How are you feeling right now?"}),e.jsx("p",{className:"text-slate-500 mb-6 leading-relaxed",children:"Just like a physical workout, a quick emotional check-in builds mental strength. Let's process your thoughts together."}),e.jsxs(g,{variant:"primary",className:"w-full !py-4 shadow-brand-primary/20",children:["Start Check-in ",e.jsx(z,{size:18})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[e.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[e.jsx($,{size:18,className:"text-brand-primary"})," Resilience Score"]}),e.jsx("span",{className:"text-xs font-bold text-brand-primary bg-brand-light px-2 py-1 rounded-md",children:"+12% this week"})]}),e.jsxs("div",{className:"h-40 w-full bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden relative",children:[e.jsx(J,{width:"100%",height:160,children:e.jsxs(P,{data:M,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorScore",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#2A8E9E",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#2A8E9E",stopOpacity:0})]})}),e.jsx(B,{hide:!0,domain:["dataMin - 10","dataMax + 10"]}),e.jsx(X,{type:"monotone",dataKey:"score",stroke:"#2A8E9E",strokeWidth:3,fill:"url(#colorScore)",animationDuration:2e3})]})}),e.jsxs("div",{className:"absolute bottom-4 left-6",children:[e.jsx("span",{className:"text-3xl font-bold text-slate-800",children:"78"}),e.jsx("span",{className:"text-xs text-slate-400 font-medium ml-1",children:"/ 100"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-700 mb-4 px-2",children:"Recommended Tools"}),e.jsx("div",{className:"grid gap-3",children:se.map(s=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-2xl border border-slate-100 hover:border-brand-secondary hover:shadow-md transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400 group-hover:bg-brand-primary group-hover:text-white transition-colors",children:s.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("h4",{className:"font-bold text-slate-700 group-hover:text-brand-primary transition-colors",children:s.title}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full",children:s.duration})]}),e.jsx("p",{className:"text-xs text-slate-500 truncate",children:s.description})]}),e.jsx(j,{size:18,className:"text-slate-300 group-hover:text-brand-primary"})]},s.id))})]})]})]}),e.jsx(b,{children:a&&e.jsxs(e.Fragment,{children:[e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"absolute inset-0 bg-slate-900/20 backdrop-blur-sm z-20"}),e.jsxs(u.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"absolute top-0 right-0 h-full w-full md:w-[480px] bg-[#F8FAFC] z-30 shadow-2xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-white",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(f,{size:20,className:"text-brand-primary"})," Memory Lane"]}),e.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(F,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(te,{data:r})})]})]})})]})},me=()=>{const r=T();if(R(),!r)return e.jsx(L,{to:"/",replace:!0});const{timelineData:a}=r;return e.jsx(ae,{timelineData:a})};export{me as JournalTimeline};
