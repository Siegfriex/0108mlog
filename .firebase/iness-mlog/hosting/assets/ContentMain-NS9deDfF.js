import{c as r,r as c,I as M,j as e,m as x,T as _,B as S,J as L,A as $,X as I,K as F,S as q,u as G,N as A}from"./index-Bhn4ADLA.js";import{V as D}from"./VoicePlayer-ykHf4kew.js";import{C as E}from"./calendar-bFBUrAR1.js";import{R}from"./CartesianChart-DOIwv2ac.js";import{L as V,a as W,b as H}from"./LineChart-BaajjHkJ.js";import{X as B,T}from"./XAxis-C4-m_dew.js";import{G as y}from"./globe-CLTyZtq6.js";import{S as O}from"./search-Z45RCbbm.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],P=r("arrow-up-right",K);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Q=r("external-link",X);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],J=r("feather",Y);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],Z=r("infinity",U);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],te=r("link-2",ee);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M14 14a2 2 0 0 0 2-2V8h-2",key:"1r06pg"}],["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M8 14a2 2 0 0 0 2-2V8H8",key:"1jzu5j"}]],ae=r("message-square-quote",se);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],re=r("music",le);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],ne=r("quote",ie);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ce=r("refresh-cw",oe),de=({persona:s})=>{const[h,f]=c.useState(M),[d,i]=c.useState(null),[l,m]=c.useState(!1),[p,v]=c.useState("ì§€ì¹œ í•˜ë£¨"),u=c.useRef(null),N=c.useRef(null),b=async(t=!1)=>{if(!l){m(!0);try{const a=await F(p,s);a&&(f(n=>t?[...n,a]:[a,...n]),t||i(a.id))}catch(a){console.error("Error generating content:",a)}finally{m(!1)}}},w=()=>b(!1),g=c.useCallback(()=>{b(!0)},[l,p,s]);c.useEffect(()=>{const t=new IntersectionObserver(n=>{n[0].isIntersecting&&!l&&g()},{threshold:.1,rootMargin:"100px"}),a=u.current;return a&&t.observe(a),()=>{a&&t.unobserve(a)}},[g,l]);const k=t=>{switch(t){case"poem":return e.jsx(J,{size:20,strokeWidth:2});case"meditation":return e.jsx(re,{size:20,strokeWidth:2});case"quote":return e.jsx(ne,{size:20,strokeWidth:2});case"insight":return e.jsx(H,{size:20,strokeWidth:2});default:return e.jsx(q,{size:20,strokeWidth:2})}},j=t=>{switch(t){case"poem":return"from-orange-100 to-rose-100 text-rose-600";case"meditation":return"from-teal-100 to-emerald-100 text-teal-600";case"quote":return"from-blue-100 to-indigo-100 text-indigo-600";case"insight":return"from-violet-100 to-purple-100 text-purple-600";default:return"from-slate-100 to-gray-200 text-slate-600"}},C=new Date().toLocaleString("default",{month:"long"});return e.jsxs("div",{className:"h-full flex flex-col max-w-full mx-auto relative bg-[#FDFDFD]",ref:N,children:[e.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide py-6 px-4",children:[e.jsxs("div",{className:"mb-10 relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:"Insight"}),e.jsxs("span",{className:"text-sm font-bold text-slate-400 bg-slate-100 px-3 py-1 rounded-full flex items-center gap-2",children:[e.jsx(E,{size:14})," ",C," 2024"]})]}),e.jsxs("div",{className:"relative bg-[#FFFBF7] rounded-[40px] p-6 shadow-xl shadow-orange-100/50 border border-orange-50 overflow-visible mb-8",children:[e.jsxs(x.div,{initial:{scale:0,y:10,opacity:0},animate:{scale:1,y:0,opacity:1},transition:{delay:.5,type:"spring"},className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-[#FF8E6E] text-white px-5 py-2.5 rounded-2xl shadow-lg shadow-orange-300/40 z-20 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"ðŸ™‚"}),e.jsx("span",{className:"text-sm font-bold",children:"Your mood is improving"}),e.jsx("div",{className:"absolute -bottom-1.5 left-1/2 -translate-x-1/2 w-3 h-3 bg-[#FF8E6E] rotate-45"})]}),e.jsx("div",{className:"h-48 mt-4",children:e.jsx(R,{width:"100%",height:192,children:e.jsxs(V,{data:_,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"lineGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[e.jsx("stop",{offset:"0%",stopColor:"#818CF8"}),e.jsx("stop",{offset:"100%",stopColor:"#F472B6"})]})}),e.jsx(B,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94A3B8",fontSize:12,fontWeight:"bold"},dy:10}),e.jsx(T,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},cursor:{stroke:"#CBD5E1",strokeWidth:1,strokeDasharray:"4 4"}}),e.jsx(W,{type:"monotone",dataKey:"score",stroke:"url(#lineGradient)",strokeWidth:4,dot:{r:0},activeDot:{r:6,fill:"#F472B6",stroke:"#fff",strokeWidth:2},animationDuration:1500})]})})}),e.jsxs("div",{className:"mt-4 flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest mb-1",children:"Weekly Pattern"}),e.jsx("h3",{className:"text-slate-700 font-bold text-lg",children:"Stable Flow"})]}),e.jsxs("div",{className:"flex gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block text-xl font-bold text-slate-800",children:"21"}),e.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Answers"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-xl font-bold text-slate-800",children:"5"}),e.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Notes"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] p-1 shadow-lg border border-slate-100 flex items-center gap-1 overflow-hidden relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50 to-indigo-50 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"relative z-10 p-4 flex-1",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold text-indigo-500 uppercase tracking-widest mb-1",children:[e.jsx(y,{size:12})," Grounded AI"]}),e.jsx("h4",{className:"font-bold text-slate-700 text-sm",children:"Discover Healing Content"})]}),e.jsx("div",{className:"relative z-10 pr-2",children:e.jsxs(S,{variant:"primary",onClick:w,isLoading:l,className:"!rounded-2xl !py-3 !px-5 bg-slate-900 text-white shadow-md text-xs",children:[l?e.jsx(ce,{size:14,className:"animate-spin"}):e.jsx(O,{size:14}),e.jsx("span",{className:"ml-2",children:"Generate"})]})})]}),e.jsx("div",{className:"flex overflow-x-auto gap-2 mt-4 pb-2 scrollbar-hide",children:L.map(t=>e.jsx("button",{onClick:()=>v(t),className:`
                            whitespace-nowrap px-4 py-2 rounded-full text-xs font-bold transition-all duration-300
                            ${p===t?"bg-slate-800 text-white shadow-md":"bg-white border border-slate-100 text-slate-400 hover:bg-slate-50"}
                        `,children:t},t))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[e.jsx("h3",{className:"font-bold text-slate-800",children:"For You"}),e.jsx("button",{className:"text-xs font-bold text-slate-400 hover:text-slate-600 transition-colors",children:"See All"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pb-24",children:[h.map((t,a)=>{const n=a===0;return e.jsx(xe,{content:t,getColor:j,getIcon:k,isFeatured:n,onClick:()=>i(t.id)},t.id)}),e.jsx("div",{ref:u,className:"col-span-2 flex justify-center py-8",children:l?e.jsx("div",{className:"flex flex-col items-center gap-2",children:e.jsx("div",{className:"w-6 h-6 border-2 border-indigo-200 border-t-indigo-500 rounded-full animate-spin"})}):e.jsx("div",{className:"flex flex-col items-center gap-1 opacity-40",children:e.jsx(Z,{size:16,className:"text-slate-400"})})})]})]})]}),e.jsx($,{children:d&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-900/40 backdrop-blur-md",onClick:()=>i(null)}),(()=>{const t=h.find(o=>o.id===d);if(!t)return null;const n=j(t.type).split(" ").slice(0,2).join(" ");return e.jsxs(x.div,{layoutId:`card-container-${d}`,className:"w-full h-full md:w-[600px] md:h-[85vh] bg-white md:rounded-[40px] shadow-2xl overflow-hidden relative flex flex-col",onClick:o=>o.stopPropagation(),children:[e.jsxs(x.div,{layoutId:`card-bg-${d}`,className:`h-56 shrink-0 bg-gradient-to-br ${n} relative p-8 flex flex-col justify-between`,children:[e.jsx("div",{className:"absolute inset-0 bg-white/30 mix-blend-overlay"}),e.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[e.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 rounded-full bg-white/60 text-slate-800 flex items-center justify-center backdrop-blur-md hover:bg-white transition-colors",children:e.jsx(I,{size:20})}),e.jsx("span",{className:"px-3 py-1 bg-white/40 backdrop-blur-md rounded-full text-slate-800 text-[10px] font-bold uppercase tracking-widest border border-white/40",children:t.type})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(x.h2,{layoutId:`card-title-${d}`,className:"text-3xl font-serif font-bold text-slate-800 leading-tight mb-2",children:t.title}),e.jsxs("p",{className:"text-slate-600/80 text-xs font-bold uppercase tracking-widest flex items-center gap-2",children:["By ",t.author," ",e.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-400"})," ",t.tags[0]]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 md:px-10 space-y-8 scrollbar-hide bg-white relative",children:[e.jsx("div",{className:"flex justify-center -mt-14 mb-4 relative z-20",children:e.jsx(D,{text:t.body})}),e.jsx("div",{className:"prose prose-lg text-slate-600 leading-loose whitespace-pre-line font-medium text-center mx-auto",children:t.body}),t.commentary&&e.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-500 shrink-0",children:e.jsx(ae,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-bold text-indigo-900 uppercase tracking-widest mb-1",children:"Curator's Note"}),e.jsx("p",{className:"text-sm text-slate-600 italic leading-relaxed",children:t.commentary})]})]}),t.groundingLinks&&t.groundingLinks.length>0&&e.jsxs("div",{className:"border-t border-slate-100 pt-8",children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center justify-center gap-2",children:[e.jsx(y,{size:14})," Sources"]}),e.jsx("div",{className:"space-y-3",children:t.groundingLinks.map((o,z)=>e.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 p-4 rounded-2xl bg-white border border-slate-100 shadow-sm hover:shadow-md hover:border-indigo-100 transition-all group",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-500 shrink-0",children:e.jsx(te,{size:16})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-slate-700 truncate group-hover:text-indigo-600 transition-colors",children:o.title}),e.jsx("p",{className:"text-[10px] text-slate-400 truncate",children:o.url})]}),e.jsx(Q,{size:16,className:"text-slate-300 group-hover:text-indigo-400"})]},z))})]})]})]})})()]})})]})},xe=({content:s,getColor:h,getIcon:f,onClick:d,isFeatured:i})=>{const l=h(s.type),m=l.split(" ").slice(0,2).join(" "),p=l.split(" ").pop();return e.jsxs(x.div,{layoutId:`card-container-${s.id}`,onClick:d,initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-20px"},transition:{type:"spring",stiffness:50,damping:20},whileHover:{y:-5,scale:1.02},whileTap:{scale:.98},className:`
                relative cursor-pointer group overflow-hidden
                bg-white rounded-[32px] shadow-[0_8px_20px_-6px_rgba(0,0,0,0.05)]
                border border-slate-100 hover:shadow-xl hover:border-slate-200 transition-all duration-300
                flex flex-col justify-between
                ${i?"col-span-2 aspect-[2/1]":"col-span-1 aspect-[4/5]"}
            `,children:[e.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${m} opacity-50 blur-2xl rounded-full -translate-y-1/2 translate-x-1/2`}),e.jsxs("div",{className:"p-5 flex flex-col justify-between h-full relative z-10",children:[e.jsx("div",{className:"flex justify-between items-start",children:e.jsx("div",{className:`
                        w-10 h-10 rounded-full flex items-center justify-center 
                        bg-slate-50 ${p}
                    `,children:f(s.type)})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 block",children:s.type}),e.jsx(x.h3,{layoutId:`card-title-${s.id}`,className:`font-serif font-bold text-slate-800 leading-tight ${i?"text-2xl max-w-[80%]":"text-lg line-clamp-3"}`,children:s.title}),i&&e.jsx("p",{className:"text-sm text-slate-500 mt-2 line-clamp-2 max-w-[90%]",children:s.commentary||s.body.slice(0,50)})]}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:e.jsxs("span",{className:"text-[10px] font-bold text-slate-300 flex items-center gap-1",children:[e.jsx(P,{size:12})," Open"]})})]})]})},ye=()=>{const s=G();if(!s)return e.jsx(A,{to:"/",replace:!0});const{persona:h}=s;return e.jsx(de,{persona:h})};export{ye as ContentMain};
