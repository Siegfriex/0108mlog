import{j as s}from"./framer-motion-DyOGlghr.js";import{d as N,r as l}from"./react-vendor-toRuRpSQ.js";import{G as n,B as c,k as p,j as v}from"./index-DqV5LO6N.js";import{z as o,aj as g,ak as i}from"./lucide-react-d6c8Yrq5.js";import"./firebase-tIcAbxpe.js";const S=()=>{const d=N(),[a,r]=l.useState(!1),[x,m]=l.useState(!0);l.useEffect(()=>{(async()=>{try{const t=await p();r(t.conversationStorage)}catch(t){console.error("Error loading consent:",t)}finally{m(!1)}})()},[]);const h=async()=>{try{const e=!a;await v(e),r(e),alert(e?"대화 저장이 활성화되었습니다.":"대화 저장이 비활성화되었습니다. 기존 대화는 유지되며, 새로운 대화는 저장되지 않습니다.")}catch(e){console.error("Error saving consent:",e),alert("동의 설정 저장 중 오류가 발생했습니다.")}},j=()=>{},f=()=>{confirm("모든 데이터를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.")};return s.jsxs("div",{className:"h-full flex flex-col p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("button",{onClick:()=>d("/profile"),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:"←"}),s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"개인정보 관리"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(n,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(o,{size:20,className:"text-slate-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800",children:"대화 저장"}),s.jsx("p",{className:"text-sm text-slate-600",children:"대화와 일기 원문 저장 동의"})]})]}),!x&&s.jsx("button",{onClick:h,className:`
                    w-12 h-6 rounded-full transition-colors relative
                    ${a?"bg-brand-primary":"bg-slate-300"}
                  `,"aria-label":a?"대화 저장 끄기":"대화 저장 켜기",children:s.jsx("div",{className:`
                      w-5 h-5 bg-white rounded-full absolute top-0.5 shadow-sm transition-transform
                      ${a?"translate-x-6":"translate-x-0.5"}
                    `})})]}),s.jsx("div",{className:"bg-slate-50 rounded-lg p-3 text-xs text-slate-600",children:a?s.jsx("p",{children:"대화와 일기 원문이 저장됩니다. 감정 수치와 태그는 항상 저장됩니다."}):s.jsx("p",{children:"대화와 일기 원문 저장이 비활성화되었습니다. 기존 대화는 유지되며, 새로운 대화는 저장되지 않습니다."})})]})}),s.jsx(n,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(o,{size:20,className:"text-slate-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800",children:"데이터 내보내기"}),s.jsx("p",{className:"text-sm text-slate-600",children:"모든 데이터를 JSON/CSV 형식으로 내보내기"})]})]}),s.jsxs(c,{onClick:j,variant:"secondary",className:"w-full",children:[s.jsx(g,{size:18,className:"mr-2"}),"데이터 내보내기"]})]})}),s.jsx(n,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(i,{size:20,className:"text-red-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800",children:"전체 데이터 삭제"}),s.jsx("p",{className:"text-sm text-slate-600",children:"모든 대화 및 기록을 영구적으로 삭제합니다."})]})]}),s.jsxs(c,{onClick:f,variant:"ghost",className:"w-full text-red-600 hover:bg-red-50",children:[s.jsx(i,{size:18,className:"mr-2"}),"전체 데이터 삭제"]})]})})]})]})};export{S as Privacy};
