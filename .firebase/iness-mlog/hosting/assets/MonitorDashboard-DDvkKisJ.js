import{c as h,r as n,E as f,j as e,L as p,m as g,u,N as j}from"./index-Bhn4ADLA.js";import{G as l}from"./GlassCard-Dvt-oZjS.js";import{T as y}from"./trending-up-DrLNk8rO.js";import{A as d,Y as b}from"./YAxis-Nja6hInu.js";import{R as N}from"./CartesianChart-DOIwv2ac.js";import{L as v,a as k,b as E}from"./LineChart-BaajjHkJ.js";import{C as w}from"./CartesianGrid-BTqX0ua9.js";import{X as T,T as A}from"./XAxis-C4-m_dew.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],L=h("circle-alert",C),z=({timelineData:s})=>{const[i,m]=n.useState(!0),c=n.useMemo(()=>s.filter(t=>(new Date().getTime()-new Date(t.date).getTime())/864e5<=7).sort((t,r)=>new Date(t.date).getTime()-new Date(r.date).getTime()).map(t=>({date:new Date(t.date).toLocaleDateString("ko-KR",{month:"short",day:"numeric"}),intensity:t.intensity||0,emotion:t.emotion})),[s]),x=n.useMemo(()=>{if(s.length<3)return[];const a=s.filter(o=>o.emotion===f.ANXIETY).length,t=s.filter(o=>(o.intensity||0)>=8).length,r=[];return a>s.length*.4&&r.push({type:"warning",message:"최근 불안한 감정이 자주 기록되고 있어요",icon:e.jsx(L,{size:20})}),t>s.length*.3&&r.push({type:"info",message:"강도가 높은 감정이 자주 나타나고 있어요",icon:e.jsx(y,{size:20})}),r},[s]);return n.useEffect(()=>{setTimeout(()=>m(!1),500)},[]),i?e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(p,{})}):e.jsxs("div",{className:"w-full h-full flex flex-col p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx(d,{size:28,className:"text-brand-primary"}),"실시간 모니터"]}),e.jsx("p",{className:"text-sm text-slate-500",children:"당신의 감정 패턴을 실시간으로 추적하고 있어요"})]}),e.jsxs(l,{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"감정 추이 (최근 7일)"}),c.length===0?e.jsxs("div",{className:"text-center py-12 text-slate-400",children:[e.jsx(d,{size:48,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"아직 충분한 데이터가 없어요"})]}):e.jsx("div",{className:"min-h-[200px]",children:e.jsx(N,{width:"100%",height:200,children:e.jsxs(v,{data:c,children:[e.jsx(w,{strokeDasharray:"3 3",stroke:"#E2E8F0"}),e.jsx(T,{dataKey:"date",stroke:"#94A3B8",fontSize:12}),e.jsx(b,{domain:[0,10],stroke:"#94A3B8",fontSize:12}),e.jsx(A,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #E2E8F0",borderRadius:"12px"}}),e.jsx(k,{type:"monotone",dataKey:"intensity",stroke:"#2A8E9E",strokeWidth:3,dot:{r:4,fill:"#2A8E9E"},activeDot:{r:6}})]})})})]}),x.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"패턴 알림"}),x.map((a,t)=>e.jsx(g.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.1},children:e.jsx(l,{className:`
                  ${a.type==="warning"?"border-orange-200 bg-orange-50/50":"border-blue-200 bg-blue-50/50"}
                `,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`
                    w-10 h-10 rounded-xl flex items-center justify-center shrink-0
                    ${a.type==="warning"?"text-orange-600 bg-orange-100":"text-blue-600 bg-blue-100"}
                  `,children:a.icon}),e.jsx("p",{className:"text-sm text-slate-700 flex-1",children:a.message})]})})},t))]}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-100 flex items-center justify-center text-purple-600 shrink-0",children:e.jsx(E,{size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-2",children:"오늘의 인사이트"}),e.jsx("p",{className:"text-sm text-slate-600",children:s.length>0?`지금까지 ${s.length}개의 감정 기록을 남기셨네요. 계속 기록하면 더 정확한 패턴을 발견할 수 있어요.`:"감정을 기록하기 시작하면 인사이트를 제공해드릴게요."})]})]})})]})},Y=()=>{const s=u();if(!s)return e.jsx(j,{to:"/",replace:!0});const{timelineData:i}=s;return e.jsx(z,{timelineData:i})};export{Y as MonitorDashboardPage};
