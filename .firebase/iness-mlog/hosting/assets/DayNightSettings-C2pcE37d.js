import{j as e,m as d}from"./framer-motion-BvSqCppS.js";import{d as N,r as a}from"./react-vendor-avSTGVV9.js";import{L as b,G as v,B as y}from"./index-B81HDj9r.js";import{g as S,d as w}from"./firestore-Bq9qddCd.js";import{j as c,i as x}from"./lucide-react-DyWIlm_Y.js";import"./firebase-Br2-H2XF.js";const L=()=>{const m=N(),[h,i]=a.useState(!0),[r,n]=a.useState(!1),[s,o]=a.useState(!0),[g,j]=a.useState("06:00"),[p,f]=a.useState("18:00");a.useEffect(()=>{(async()=>{try{i(!0);const l=await S();l&&o(l.autoDayNightMode??!0)}catch(l){console.error("설정 불러오기 오류:",l)}finally{i(!1)}})()},[]);const u=async()=>{try{n(!0),await w({autoDayNightMode:s}),alert("설정이 저장되었습니다.")}catch(t){console.error("설정 저장 오류:",t),alert("설정 저장 중 오류가 발생했습니다.")}finally{n(!1)}};return h?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx(b,{})}):e.jsxs("div",{className:"h-full flex flex-col p-6 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("button",{onClick:()=>m("/profile"),className:"p-2 hover:bg-slate-100 rounded-full transition-colors","aria-label":"뒤로가기",children:"←"}),e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Day/Night 모드 설정"})]}),e.jsxs("div",{className:"space-y-4 max-w-2xl",children:[e.jsx(v,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:"자동 모드 전환"}),e.jsx("p",{className:"text-sm text-slate-600",children:"시간대에 따라 자동으로 Day/Night 모드 전환"})]}),e.jsx("button",{onClick:()=>o(!s),className:`
                  w-12 h-6 rounded-full transition-colors relative
                  ${s?"bg-brand-primary":"bg-slate-300"}
                `,"aria-label":s?"자동 모드 끄기":"자동 모드 켜기",children:e.jsx(d.div,{className:"w-5 h-5 bg-white rounded-full absolute top-0.5 shadow-sm",animate:{x:s?24:2},transition:{type:"spring",stiffness:500,damping:30}})})]}),s&&e.jsxs(d.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4 pt-4 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(c,{size:18,className:"text-amber-500"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-800 text-sm",children:"Day Mode 시작 시간"}),e.jsx("p",{className:"text-xs text-slate-500",children:"빠른 체크인 모드 시작 시간"})]})]}),e.jsx("input",{type:"time",value:g,onChange:t=>j(t.target.value),className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{size:18,className:"text-indigo-500"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-800 text-sm",children:"Night Mode 시작 시간"}),e.jsx("p",{className:"text-xs text-slate-500",children:"깊은 성찰 모드 시작 시간"})]})]}),e.jsx("input",{type:"time",value:p,onChange:t=>f(t.target.value),className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm"})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs("div",{className:"flex-1 p-4 border border-slate-200 rounded-xl bg-gradient-to-br from-amber-50 to-white",children:[e.jsx(c,{size:24,className:"text-amber-500 mb-2"}),e.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:"Day Mode"}),e.jsx("p",{className:"text-xs text-slate-600 mb-2",children:"빠른 체크인 (Woebot 스타일)"}),e.jsx("p",{className:"text-xs text-slate-500",children:"3~5턴, 5분 이내"})]}),e.jsxs("div",{className:"flex-1 p-4 border border-slate-200 rounded-xl bg-gradient-to-br from-indigo-50 to-white",children:[e.jsx(x,{size:24,className:"text-indigo-500 mb-2"}),e.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:"Night Mode"}),e.jsx("p",{className:"text-xs text-slate-600 mb-2",children:"깊은 성찰 (답다 스타일)"}),e.jsx("p",{className:"text-xs text-slate-500",children:"일기 + AI 편지"})]})]})]})}),e.jsx("div",{className:"pt-4",children:e.jsx(y,{onClick:u,variant:"primary",className:"w-full",disabled:r,children:r?"저장 중...":"설정 저장"})})]})]})};export{L as DayNightSettings};
