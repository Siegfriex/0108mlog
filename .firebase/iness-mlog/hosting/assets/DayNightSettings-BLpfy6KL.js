import{j as e,m as h}from"./framer-motion-BL4N7xFA.js";import{d as N,r as i}from"./react-vendor-CHpw1G1i.js";import{L as b,G as y,B as v,O as S,t as M}from"./index-AFX2_y7y.js";import{j as g,i as f}from"./lucide-react-J6DJLIhr.js";import"./firebase-BBl07Gss.js";const k=()=>{const j=N(),[p,l]=i.useState(!0),[r,n]=i.useState(!1),[t,o]=i.useState(!0),[d,c]=i.useState("06:00"),[x,m]=i.useState("18:00");i.useEffect(()=>{(async()=>{try{l(!0);const s=await S();s&&(o(s.autoDayNightMode??!0),s.dayModeStartTime&&c(s.dayModeStartTime),s.nightModeStartTime&&m(s.nightModeStartTime))}catch(s){console.error("설정 불러오기 오류:",s)}finally{l(!1)}})()},[]);const u=async()=>{try{n(!0),await M({autoDayNightMode:t,dayModeStartTime:t?d:void 0,nightModeStartTime:t?x:void 0}),alert("설정이 저장되었습니다.")}catch(a){console.error("설정 저장 오류:",a),alert("설정 저장 중 오류가 발생했습니다.")}finally{n(!1)}};return p?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx(b,{})}):e.jsxs("div",{className:"h-full flex flex-col p-6 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("button",{onClick:()=>j("/profile"),className:"p-2 hover:bg-slate-100 rounded-full transition-colors","aria-label":"뒤로가기",children:"←"}),e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Day/Night 모드 설정"})]}),e.jsxs("div",{className:"space-y-4 max-w-2xl",children:[e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:"자동 모드 전환"}),e.jsx("p",{className:"text-sm text-slate-600",children:"시간대에 따라 자동으로 Day/Night 모드 전환"})]}),e.jsx("button",{onClick:()=>o(!t),className:`
                  w-12 h-6 rounded-full transition-colors relative
                  ${t?"bg-brand-primary":"bg-slate-300"}
                `,"aria-label":t?"자동 모드 끄기":"자동 모드 켜기",children:e.jsx(h.div,{className:"w-5 h-5 bg-white rounded-full absolute top-0.5 shadow-sm",animate:{x:t?24:2},transition:{type:"spring",stiffness:500,damping:30}})})]}),t&&e.jsxs(h.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4 pt-4 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{size:18,className:"text-amber-500"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-800 text-sm",children:"Day Mode 시작 시간"}),e.jsx("p",{className:"text-xs text-slate-500",children:"빠른 체크인 모드 시작 시간"})]})]}),e.jsx("input",{type:"time",value:d,onChange:a=>c(a.target.value),className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(f,{size:18,className:"text-indigo-500"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-800 text-sm",children:"Night Mode 시작 시간"}),e.jsx("p",{className:"text-xs text-slate-500",children:"깊은 성찰 모드 시작 시간"})]})]}),e.jsx("input",{type:"time",value:x,onChange:a=>m(a.target.value),className:"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm"})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs("div",{className:"flex-1 p-4 border border-slate-200 rounded-xl bg-gradient-to-br from-amber-50 to-white",children:[e.jsx(g,{size:24,className:"text-amber-500 mb-2"}),e.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:"Day Mode"}),e.jsx("p",{className:"text-xs text-slate-600 mb-2",children:"빠른 체크인 (Woebot 스타일)"}),e.jsx("p",{className:"text-xs text-slate-500",children:"3~5턴, 5분 이내"})]}),e.jsxs("div",{className:"flex-1 p-4 border border-slate-200 rounded-xl bg-gradient-to-br from-indigo-50 to-white",children:[e.jsx(f,{size:24,className:"text-indigo-500 mb-2"}),e.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:"Night Mode"}),e.jsx("p",{className:"text-xs text-slate-600 mb-2",children:"깊은 성찰 (답다 스타일)"}),e.jsx("p",{className:"text-xs text-slate-500",children:"일기 + AI 편지"})]})]})]})}),e.jsx("div",{className:"pt-4",children:e.jsx(v,{onClick:u,variant:"primary",className:"w-full",disabled:r,children:r?"저장 중...":"설정 저장"})})]})]})};export{k as DayNightSettings};
