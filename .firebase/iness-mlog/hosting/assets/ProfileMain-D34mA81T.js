import{j as e,A as f,m as u}from"./framer-motion-BL4N7xFA.js";import{r as j}from"./react-vendor-CHpw1G1i.js";import{G as b,o as v,K as g,r as x,N,t as y}from"./index-AFX2_y7y.js";import{P as w}from"./PersonaEditor-BFT1IDJs.js";import{C}from"./ConversationManager-CvUzuR84.js";import{U as P,G as k,o as m,ae as z,af as p,z as A,ag as U}from"./lucide-react-J6DJLIhr.js";import"./firebase-BBl07Gss.js";const D=({persona:r,onUpdatePersona:l,conversations:c=[],onDeleteConversation:n,onDeleteAllConversations:i})=>{const[o,a]=j.useState("main"),d=[{id:"persona",label:"AI 페르소나 설정",icon:e.jsx(z,{size:20}),description:"AI 동반자 커스터마이징"},{id:"settings",label:"앱 설정",icon:e.jsx(p,{size:20}),description:"알림, 테마"},{id:"privacy",label:"개인정보 및 데이터",icon:e.jsx(A,{size:20}),description:"데이터 관리 및 내보내기"},{id:"conversations",label:"대화 관리",icon:e.jsx(U,{size:20}),description:"기록 보기, 삭제"}],s=()=>{switch(o){case"persona":return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 px-4 pt-2",children:[e.jsx("button",{onClick:()=>a("main"),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx(m,{size:20,className:"text-slate-600"})}),e.jsx("h3",{className:"font-bold text-slate-800",children:"프로필로 돌아가기"})]}),e.jsx(w,{persona:r,onUpdate:l})]});case"settings":return e.jsx(h,{title:"앱 설정",onBack:()=>a("main")});case"privacy":return e.jsx(h,{title:"개인정보 및 데이터",onBack:()=>a("main")});case"conversations":return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 px-4 pt-2",children:[e.jsx("button",{onClick:()=>a("main"),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx(m,{size:20,className:"text-slate-600"})}),e.jsx("h3",{className:"font-bold text-slate-800",children:"Back to Profile"})]}),e.jsx(C,{conversations:c,onDeleteConversation:n,onDeleteAll:i})]});default:return e.jsx("div",{className:"px-4 py-6 max-w-xl mx-auto w-full h-full flex flex-col overflow-hidden",children:e.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide min-h-0",children:[e.jsxs("header",{className:"mb-8 text-center pt-4",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-brand-secondary to-brand-primary rounded-full mx-auto mb-4 flex items-center justify-center text-white shadow-lg shadow-brand-primary/30",children:e.jsx(P,{size:40,strokeWidth:1.5})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"User Profile"}),e.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[e.jsx("span",{className:"px-3 py-1 bg-brand-light text-brand-primary rounded-full text-[10px] font-bold uppercase tracking-wider border border-brand-secondary",children:"Level 5"}),e.jsx("span",{className:"px-3 py-1 bg-orange-50 text-orange-600 rounded-full text-[10px] font-bold uppercase tracking-wider border border-orange-100",children:"1,250 XP"})]})]}),e.jsx("div",{className:"space-y-4 pb-24",children:d.map(t=>e.jsx(b,{className:"!p-0 flex items-center cursor-pointer hover:bg-white/80 transition-colors group",onClick:()=>a(t.id),children:e.jsxs("div",{className:"p-5 flex items-center w-full",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-brand-light flex items-center justify-center text-brand-primary mr-4 shrink-0 group-hover:bg-brand-primary group-hover:text-white transition-colors",children:t.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:t.label}),e.jsx("p",{className:"text-slate-500 text-xs",children:t.description})]}),e.jsx(k,{size:20,className:"text-slate-300 group-hover:text-brand-primary transition-colors"})]})},t.id))})]})})}};return e.jsx("div",{className:"h-full w-full flex flex-col overflow-hidden",children:e.jsx(f,{mode:"wait",children:e.jsx(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"h-full flex flex-col overflow-hidden",children:s()},o)})})},h=({title:r,onBack:l})=>e.jsxs("div",{className:"h-full flex flex-col px-4 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-8 py-4",children:[e.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx(m,{size:20,className:"text-slate-600"})}),e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:r})]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 opacity-50 pb-20",children:[e.jsx(p,{size:48,strokeWidth:1,className:"mb-4"}),e.jsx("p",{className:"text-sm font-medium",children:"Coming Soon in Phase 1"})]})]}),L=()=>{const{persona:r,setPersona:l,timelineData:c,deleteTimelineEntry:n}=v(),i=c,o=async s=>{try{await y({persona:s}),l(s)}catch(t){x("ProfileMain.handleUpdatePersona",t)}},a=async s=>{try{await N(s),n(s)}catch(t){x("ProfileMain.handleDeleteConversation",t)}},d=async()=>{try{await g(),i.forEach(s=>n(s.id))}catch(s){x("ProfileMain.handleDeleteAllConversations",s)}};return e.jsx(D,{persona:r,onUpdatePersona:o,conversations:i,onDeleteConversation:a,onDeleteAllConversations:d})};export{L as ProfileMain};
