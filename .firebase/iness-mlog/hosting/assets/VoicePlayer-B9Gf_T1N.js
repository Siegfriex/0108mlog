import{j as e,m as p}from"./framer-motion-BL4N7xFA.js";import{r}from"./react-vendor-CHpw1G1i.js";import{aa as j,ab as b,ac as g,ad as y}from"./lucide-react-J6DJLIhr.js";const P=({text:l,autoPlay:i=!1,onEnd:o})=>{const[c,a]=r.useState(!1),[u,n]=r.useState(!1),t=window.speechSynthesis,m=r.useRef(null);r.useEffect(()=>()=>{t.cancel()},[]),r.useEffect(()=>{i&&l&&d()},[l,i]);const d=()=>{if(u){t.resume(),a(!0),n(!1);return}t.cancel();const s=new SpeechSynthesisUtterance(l);s.lang="ko-KR",s.rate=.9,s.pitch=1,s.onend=()=>{a(!1),n(!1),o&&o()},m.current=s,t.speak(s),a(!0)},h=()=>{t.pause(),a(!1),n(!0)},x=()=>{t.cancel(),a(!1),n(!1)};return e.jsxs("div",{className:"flex items-center gap-4 bg-white/40 backdrop-blur-md border border-white/50 rounded-full px-4 py-2 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[c?e.jsx("button",{onClick:h,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white text-peace-500 border border-peace-200 hover:bg-peace-50 transition-colors",children:e.jsx(b,{size:14,fill:"currentColor"})}):e.jsx("button",{onClick:d,className:"w-8 h-8 flex items-center justify-center rounded-full bg-peace-500 text-white hover:bg-peace-600 transition-colors shadow-md",children:e.jsx(j,{size:14,fill:"currentColor",className:"ml-0.5"})}),(c||u)&&e.jsx("button",{onClick:x,className:"w-8 h-8 flex items-center justify-center rounded-full text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-colors",children:e.jsx(g,{size:12,fill:"currentColor"})})]}),e.jsx("div",{className:"flex items-center gap-1 h-6 w-24 justify-center",children:c?e.jsx(e.Fragment,{children:[...Array(5)].map((s,f)=>e.jsx(p.div,{className:"w-1 bg-peace-400 rounded-full",animate:{height:[4,16,8,20,4]},transition:{duration:.8,repeat:1/0,repeatType:"reverse",delay:f*.1}},f))}):e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 font-medium",children:[e.jsx(y,{size:14}),e.jsx("span",{children:"Listen"})]})})]})};export{P as V};
